#####extract.pl#####
```perl
1 $flag=0;
2 while($line=<>){
3   chomp($line);
4   if($line=~/<NUM>/){
5     ($num=$line)=~s/<NUM>|<\/NUM>//g;
6   }elsif($line=~/<TEXT>/){
7     $flag+=1;
8   }elsif($line=~/<\/TEXT>/){
9     $flag-=1;
10   }
11
12   if($flag==1){
13     my @words=split(/\s/g,$line);
14     foreach my$word (@words){
15       if($word!~/<TEXT>/){
16         $word=~tr/A-Z/a-z/;
17         $word=~s/\.|,|'|"//g;
18         print "$num $word\n";
19       }
20     }
21   }
22 }
```

#####extract.pl#####
```
1 変数flagの定義
2 {繰り返し:ファイルを1行ずつ最後まで読み込む
3   行末尾の改行削除
4   {条件分岐:行に"<NUM>"という文字列がある場合，
5     "<NUM>"と"</NUM>"という文字列を削除して残った文字列を変数numに代入
6   }条件分岐:行に"<TEXT>"という文字列がある場合，{
7     変数flagに1足す
8   }条件分岐:行に"</TEXT>"という文字列がある場合，{
9     変数flagから1引く
10   }:4からの条件分岐終了
11
12   {条件分岐:変数flagが1と等しい場合，
13     読み込んだ行を空白で分け，レキシカルスコープ変数として定義された配列wordsに入れる
14     {繰り返し:配列wordsに入っている要素ひとつひとつについて
15       {条件分岐:要素にが"<TEXT>"という文字列を含まない場合，
16         その要素に含まれる大文字を小文字に変更
17         その要素に含まれる"."と","とシングルクォートとダブルクォートを削除する
18         変数numと変数wordを出力
19       }:15からの条件分岐終了
20     }:14からの繰り返し終了
21   }:12からの条件分岐終了
22 }:2からの繰り返し終了
```
